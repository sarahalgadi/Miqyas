
<head>
    <%- include("./partials/head.ejs") %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/stylesheets/courseCards.css">
    <style>
        #welcome {
            margin: 4rem;
            margin-left: 4rem;
            font-size: 18px;
        }

        h2 {
            font-size: 30px;
            font-weight: 600;
        }
    </style>
 </head>
 
 <body>
     <%- include('./partials/nav.ejs')%>
     <hr>
 
     <div>
        <table id="welcome" class="table table-borderless">
            <tr>
                <td>
                    <h2>Welcome, <%= user.fullName %> </h2>
                </td>
                <td><strong>Term:</strong> <%= term %></td>
            </tr>
            <tr>
                <td></td>
                <td><strong>Department:</strong> <%= user.department %></td>
            </tr>

        </table>
    </div>




    <!--if instructor.. course cards for current term show here.-->
    <div class="row container-fluid" style="font-family:Arial, Helvetica, sans-serif">
        <h2 style="font-weight: 400; margin: 1rem; padding: 1rem;">Current Courses: </h2>
    </div>
    <div class="container mt-4">
        <div class="card">
            <div class="course-cards">
                <% if (courses && courses.length>0) { %>
                    <% courses.forEach(function (course) { %>
                        <div class="card">
                            <h2 class="card-title">
                                <%= course.courseCode %>: <%= course.courseName %>
                            </h2>
                            <div class="card-body">
                                <strong> Section: <%= course.sectionNumber %> </strong>
                                <!--in home routes. assessment section file will be rendered then!-->
                                <form action="/view-section-details/<%= course.courseCode %>/<%= term %>/<%= course.sectionNumber %>" method="POST">
                                    <input type="hidden" name="courseName" value="<%= course.courseName %>">
                                    <button class="btn custom-button"  type="submit" style="width: 100%;">View Section Details</button>
                                </form>
                            </div>
                        </div>
                    <% }) %>
                <% } else { %>
                    <h2>"You're currently not teaching courses this term."</h2>
                <% } %>
            </div>
            <hr>
            <form action="/view-reports" method="get">
                <button class="btn custom-button" href="#" style="width: 100%;">View Your Past Reports</button>
            </form>
      
        </div>
    </div>


    <!--if coordinator-->

    <% if (userRoles.includes('coordinator') && coordinatedCourses && coordinatedCourses.length > 0) { %>
        <div class="row container-fluid" style="font-family: Arial, Helvetica, sans-serif">
            <h2 style="font-weight: 400; margin: 1rem; padding: 1rem;">Coordinated Courses: </h2>
        </div>
    
        <div class="container mt-4">
            <% coordinatedCourses.forEach(function(coordinatedCourse) { %>
                <div class="card course-card col-5">
                    <div class="card-header course-card-header">
                        Coordinated Course
                    </div>
                    <div class="card-body">
                        <strong><%= coordinatedCourse.courseCode %>: <%= coordinatedCourse.sectionNumber %></strong>
                        <br>
                        <span><%= coordinatedCourse.courseName %></span>
                        <br>
                        <hr>
                        <form action="/display-course/<%= coordinatedCourse.courseCode %>/<%= term %>" method="get">
                            <button class="custom-button btn" type="submit">View Course</a>
                        </form>
                     
                    </div>
                </div>
            <% }) %>
        </div>
    <% } %>
    

    <!--if chairperson-->

    <% if (userRoles.includes('chairperson')) { %>

    <div class="row container-fluid" style="font-family: Arial, Helvetica, sans-serif">
        <h2 style="font-weight: 400; margin: 1rem; padding: 1rem;">Chairperson Activities: </h2>
    </div>

    <div class="container">
        <button class="btn custom-button" href="#" style="width: 100%;">View Department Reports</button>
        <button class="btn custom-button" href="#" style="width: 100%;">Assign Quality Assurance and Department Curriculum Committee Roles</button>
        <button class="btn custom-button" href="#" style="width: 100%;">Assign Coordinator Roles</button>
    </div>

    <% } %>




    <!--if dcc-->
    <% if (userRoles.includes('DCC')) { %>

    <div class="row container-fluid" style="font-family: Arial, Helvetica, sans-serif">
        <h2 style="font-weight: 400; margin: 1rem; padding: 1rem;">Department Curriculum Committee Activities: </h2>
    </div>

    <div class="container">
        <button class="btn custom-button col-3" href="#" style="width: 100%;">View Department Reports</button>
        <form method="post" action="/edit-clos/<%= user.department %>/<%= term %>">
            <button class="btn custom-button col-3" type="submit" style="width: 100%;">Create or Update Course Learning Outcomes</button>
        </form>
    </div>

    <% } %>

    <!--if quality assurance-->

    <% if (userRoles.includes('QA')) { %>
    
    <div class="row container-fluid" style="font-family: Arial, Helvetica, sans-serif">
        <h2 style="font-weight: 400; margin: 1rem; padding: 1rem;">Quality Assurance Activities: </h2>
    </div>

    <div class="container">
        <button class="btn custom-button col-3" href="#" style="width: 100%;">View Department Reports</button>
    </div>

    <% } %>

